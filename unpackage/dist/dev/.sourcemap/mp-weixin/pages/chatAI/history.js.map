{"version":3,"file":"history.js","sources":["pages/chatAI/history.vue","../../HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2hhdEFJL2hpc3RvcnkudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"history-container\">\r\n\r\n\t\t\r\n\t\t<!-- ÊêúÁ¥¢Ê†è -->\r\n\t\t<view class=\"search-container\">\r\n\t\t\t<view class=\"filter-btn\" @tap=\"showFilterOptions\">\r\n\t\t\t\t<image src=\"/static/filter.png\" class=\"filter-icon\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"search-box\">\r\n\t\t\t\t<image src=\"/static/search.png\" class=\"search-icon\"></image>\r\n\t\t\t\t<input \r\n\t\t\t\t\tclass=\"search-input\" \r\n\t\t\t\t\tv-model=\"searchKeyword\" \r\n\t\t\t\t\tplaceholder=\"ÊêúÁ¥¢ÂéÜÂè≤ÂØπËØù...\"\r\n\t\t\t\t\t@input=\"onSearchInput\"\r\n\t\t\t\t\t@confirm=\"performSearch\"\r\n\t\t\t\t/>\r\n\t\t\t\t<view v-if=\"searchKeyword\" class=\"clear-btn\" @tap=\"clearSearch\">\r\n\t\t\t\t\t<text class=\"clear-icon\">√ó</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- ÂéÜÂè≤ÂØπËØùÂàóË°® -->\r\n\t\t<scroll-view class=\"history-list\" scroll-y=\"true\" :show-scrollbar=\"false\">\r\n\t\t\t<view \r\n\t\t\t\tv-for=\"(chat, index) in filteredHistoryChats\" \r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t:class=\"['history-item', isChatHighlighted(chat) ? 'highlighted' : '']\"\r\n\t\t\t\t@tap=\"loadChat(chat)\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"history-content\">\r\n\t\t\t\t\t<text class=\"history-title\">{{ chat.title }}</text>\r\n\t\t\t\t\t<text class=\"history-time\">{{ chat.lastTime }}</text>\r\n\t\t\t\t\t<text class=\"history-preview\">{{ getPreviewText(chat.messages) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"history-actions\">\r\n\t\t\t\t\t<view class=\"delete-btn\" @tap.stop=\"deleteChat(chat.id)\">\r\n\t\t\t\t\t\t<image src=\"/static/delete.png\" class=\"delete-icon\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- Á©∫Áä∂ÊÄÅ -->\r\n\t\t\t<view v-if=\"filteredHistoryChats.length === 0\" class=\"empty-history\">\r\n\t\t\t\t<view class=\"empty-icon\">üìã</view>\r\n\t\t\t\t<text class=\"empty-title\">{{ searchKeyword ? 'Êú™ÊâæÂà∞Áõ∏ÂÖ≥ÂØπËØù' : 'ÊöÇÊó†ÂéÜÂè≤ÂØπËØù' }}</text>\r\n\t\t\t\t<text class=\"empty-subtitle\">{{ searchKeyword ? 'Â∞ùËØïÂÖ∂‰ªñÂÖ≥ÈîÆËØç' : 'ÂºÄÂßãÊñ∞ÁöÑÂØπËØùÂêß' }}</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { \r\n\t\tloadHistoryChats, \r\n\t\tdeleteChat, \r\n\t\tsearchChats, \r\n\t\tsetSelectedChat,\r\n\t\tgetMessagePreview\r\n\t} from './api.js';\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\thistoryChats: [], // ÂéÜÂè≤ÂØπËØùÂàóË°®\r\n\t\t\t\tsearchKeyword: '', // ÊêúÁ¥¢ÂÖ≥ÈîÆËØç\r\n\t\t\t\tfilterType: 'all', // Á≠õÈÄâÁ±ªÂûãÔºöall, today, week, month\r\n\t\t\t\tfilterOptions: [\r\n\t\t\t\t\t{ label: 'ÂÖ®ÈÉ®', value: 'all' },\r\n\t\t\t\t\t{ label: '‰ªäÂ§©', value: 'today' },\r\n\t\t\t\t\t{ label: 'Êú¨Âë®', value: 'week' },\r\n\t\t\t\t\t{ label: 'Êú¨Êúà', value: 'month' }\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.loadHistoryChats();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// È°µÈù¢ÊòæÁ§∫Êó∂ÈáçÊñ∞Âä†ËΩΩÂπ∂ÊéíÂ∫èÂéÜÂè≤ÂØπËØù\r\n\t\t\tthis.loadHistoryChats();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// ËøáÊª§ÂêéÁöÑÂéÜÂè≤ÂØπËØùÂàóË°®\r\n\t\t\tfilteredHistoryChats() {\r\n\t\t\t\t// ËøôÈáåÈúÄË¶ÅÊîπ‰∏∫ÂºÇÊ≠•Â§ÑÁêÜÔºåÊöÇÊó∂ËøîÂõûÊú¨Âú∞Êï∞ÊçÆ\r\n\t\t\t\treturn this.historyChats;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// Âä†ËΩΩÂéÜÂè≤ÂØπËØùÂàóË°®\r\n\t\t\tasync loadHistoryChats() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// ‰ΩøÁî®API‰ªéÂêéÁ´ØÂä†ËΩΩÂéÜÂè≤ÂØπËØùÊï∞ÊçÆ\r\n\t\t\t\t\tconst response = await loadHistoryChats();\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tthis.historyChats = response.data || [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Â¶ÇÊûúÂêéÁ´ØÊ≤°ÊúâÊï∞ÊçÆÔºå‰ΩøÁî®Á§∫‰æãÊï∞ÊçÆ\r\n\t\t\t\t\t\tthis.historyChats = [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: 'chat1',\r\n\t\t\t\t\t\t\t\ttitle: 'ÂÖ≥‰∫éÁéâÁ±≥ÂÆ≥Ëô´ÁöÑÂí®ËØ¢',\r\n\t\t\t\t\t\t\t\tlastTime: '2024-01-15 14:30',\r\n\t\t\t\t\t\t\t\tmessages: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'user',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'ÁéâÁ±≥Âú∞ÈáåÂèëÁé∞‰∫ÜËô´Â≠êÔºåËÉΩÂ∏ÆÊàëËØÜÂà´‰∏Ä‰∏ãÂêóÔºü',\r\n\t\t\t\t\t\t\t\t\t\ttime: '14:30'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'ai',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'Ê†πÊçÆÊÇ®ÁöÑÊèèËø∞ÔºåËøôÂèØËÉΩÊòØÁéâÁ±≥Ëûü„ÄÇÂª∫ËÆÆÊÇ®‰∏ä‰º†ÂõæÁâáËøõË°åÊõ¥ÂáÜÁ°ÆÁöÑËØÜÂà´„ÄÇ',\r\n\t\t\t\t\t\t\t\t\t\ttime: '14:31'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: 'chat2',\r\n\t\t\t\t\t\t\t\ttitle: 'Ê∞¥Á®ªÁóÖËô´ÂÆ≥Èò≤Ê≤ª',\r\n\t\t\t\t\t\t\t\tlastTime: '2024-01-14 09:15',\r\n\t\t\t\t\t\t\t\tmessages: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'user',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'Ê∞¥Á®ªÂè∂Â≠êÂèëÈªÑÔºåÊòØ‰ªÄ‰πàÂéüÂõ†Ôºü',\r\n\t\t\t\t\t\t\t\t\t\ttime: '09:15'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'ai',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'Ê∞¥Á®ªÂè∂Â≠êÂèëÈªÑÂèØËÉΩÊòØÁº∫ËÇ•ÊàñÁóÖËô´ÂÆ≥ÂØºËá¥ÁöÑ„ÄÇÂª∫ËÆÆÊÇ®Ê£ÄÊü•ÊòØÂê¶ÊúâËô´ÂÆ≥ÔºåÂπ∂ÈÄÇÂΩìÊñΩËÇ•„ÄÇ',\r\n\t\t\t\t\t\t\t\t\t\ttime: '09:16'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: 'chat3',\r\n\t\t\t\t\t\t\t\ttitle: 'Ëî¨ËèúÂÆ≥Ëô´ËØÜÂà´',\r\n\t\t\t\t\t\t\t\tlastTime: '2024-01-13 16:45',\r\n\t\t\t\t\t\t\t\tmessages: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'user',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'ÁôΩËèú‰∏äÊúâÂ∞èËô´Â≠êÔºåÊÄé‰πàÂ§ÑÁêÜÔºü',\r\n\t\t\t\t\t\t\t\t\t\ttime: '16:45'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'ai',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'ËøôÂèØËÉΩÊòØËèúÈùíËô´„ÄÇÂª∫ËÆÆ‰ΩøÁî®ÁîüÁâ©ÂÜúËçØÊàñ‰∫∫Â∑•ÊçïÊùÄÔºåÈÅøÂÖç‰ΩøÁî®È´òÊØíÂÜúËçØ„ÄÇ',\r\n\t\t\t\t\t\t\t\t\t\ttime: '16:46'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: 'chat4',\r\n\t\t\t\t\t\t\t\ttitle: 'ÊûúÊ†ëÁóÖËô´ÂÆ≥Âí®ËØ¢',\r\n\t\t\t\t\t\t\t\tlastTime: '2024-01-12 11:20',\r\n\t\t\t\t\t\t\t\tmessages: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'user',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'ËãπÊûúÊ†ë‰∏äÊúâËöúËô´ÔºåÁî®‰ªÄ‰πàËçØÊØîËæÉÂ•ΩÔºü',\r\n\t\t\t\t\t\t\t\t\t\ttime: '11:20'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'ai',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'ÂØπ‰∫éËãπÊûúÊ†ëËöúËô´ÔºåÂª∫ËÆÆ‰ΩøÁî®Âê°Ëô´ÂïâÊàñÂï∂Ëô´ËÑíÁ≠âËçØÂâÇÔºåÊ≥®ÊÑèËΩÆÊç¢‰ΩøÁî®ÈÅøÂÖçÊäóÊÄß„ÄÇ',\r\n\t\t\t\t\t\t\t\t\t\ttime: '11:21'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: 'chat5',\r\n\t\t\t\t\t\t\t\ttitle: 'Â∞èÈ∫¶ÁóÖËô´ÂÆ≥Èò≤Ê≤ª',\r\n\t\t\t\t\t\t\t\tlastTime: '2024-01-11 15:30',\r\n\t\t\t\t\t\t\t\tmessages: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'user',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'Â∞èÈ∫¶Âè∂Â≠êÊúâÁôΩÁ≤âÁóÖÔºåÊÄé‰πàÈò≤Ê≤ªÔºü',\r\n\t\t\t\t\t\t\t\t\t\ttime: '15:30'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'ai',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'Â∞èÈ∫¶ÁôΩÁ≤âÁóÖÂèØ‰ª•‰ΩøÁî®‰∏âÂîëÈÖÆ„ÄÅÊàäÂîëÈÜáÁ≠âËçØÂâÇÈò≤Ê≤ªÔºåÂêåÊó∂Ê≥®ÊÑèÈÄöÈ£éÈÄèÂÖâ„ÄÇ',\r\n\t\t\t\t\t\t\t\t\t\ttime: '15:31'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Âä†ËΩΩÂéÜÂè≤ÂØπËØùÂ§±Ë¥•:', error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªú',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// ‰ΩøÁî®Á§∫‰æãÊï∞ÊçÆ‰Ωú‰∏∫Â§áÁî®\r\n\t\t\t\t\tthis.historyChats = [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 'chat1',\r\n\t\t\t\t\t\t\ttitle: 'ÂÖ≥‰∫éÁéâÁ±≥ÂÆ≥Ëô´ÁöÑÂí®ËØ¢',\r\n\t\t\t\t\t\t\tlastTime: '2024-01-15 14:30',\r\n\t\t\t\t\t\t\tmessages: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'user',\r\n\t\t\t\t\t\t\t\t\tcontent: 'ÁéâÁ±≥Âú∞ÈáåÂèëÁé∞‰∫ÜËô´Â≠êÔºåËÉΩÂ∏ÆÊàëËØÜÂà´‰∏Ä‰∏ãÂêóÔºü',\r\n\t\t\t\t\t\t\t\t\ttime: '14:30'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'ai',\r\n\t\t\t\t\t\t\t\t\tcontent: 'Ê†πÊçÆÊÇ®ÁöÑÊèèËø∞ÔºåËøôÂèØËÉΩÊòØÁéâÁ±≥Ëûü„ÄÇÂª∫ËÆÆÊÇ®‰∏ä‰º†ÂõæÁâáËøõË°åÊõ¥ÂáÜÁ°ÆÁöÑËØÜÂà´„ÄÇ',\r\n\t\t\t\t\t\t\t\t\ttime: '14:31'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ëé∑ÂèñÈ¢ÑËßàÊñáÊú¨\r\n\t\t\tgetPreviewText(messages) {\r\n\t\t\t\treturn getMessagePreview(messages);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Âä†ËΩΩÊåáÂÆöÂØπËØù\r\n\t\t\tloadChat(chat) {\r\n\t\t\t\t// ‰ΩøÁî®APIËÆæÁΩÆÈÄâ‰∏≠ÁöÑÂØπËØù\r\n\t\t\t\tsetSelectedChat(chat);\r\n\t\t\t\t\r\n\t\t\t\t// ÂÖàÊòæÁ§∫Âä†ËΩΩÊèêÁ§∫\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'Ê≠£Âú®Âä†ËΩΩÂØπËØù',\r\n\t\t\t\t\ticon: 'loading'\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// ‰ΩøÁî®Êõ¥ÁÆÄÂçïÁöÑË∑≥ËΩ¨ÊñπÂºè\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t// Â∞ùËØï‰ΩøÁî®switchTabÔºåÂõ†‰∏∫chatAIÊòØtabBarÈ°µÈù¢\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl: '/pages/chatAI/chatAI',\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tconsole.log('switchTabË∑≥ËΩ¨ÊàêÂäü');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tconsole.log('switchTabÂ§±Ë¥•ÔºåÂ∞ùËØïnavigateTo:', err);\r\n\t\t\t\t\t\t\t// Â¶ÇÊûúswitchTabÂ§±Ë¥•ÔºåÂ∞ùËØïnavigateTo\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/chatAI/chatAI',\r\n\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\tconsole.log('navigateToË∑≥ËΩ¨ÊàêÂäü');\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: (navigateErr) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log('navigateTo‰πüÂ§±Ë¥•:', navigateErr);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Ë∑≥ËΩ¨Â§±Ë¥•ÔºåËØ∑ÊâãÂä®ËøîÂõû',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 100);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Âà†Èô§ÂØπËØù\r\n\t\t\tasync deleteChat(chatId) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: 'Âà†Èô§ÂØπËØù',\r\n\t\t\t\t\tcontent: 'Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™ÂØπËØùÂêóÔºüÂà†Èô§ÂêéÊó†Ê≥ïÊÅ¢Â§ç„ÄÇ',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// ‰ΩøÁî®APIÂà†Èô§ÂØπËØù\r\n\t\t\t\t\t\t\t\tconst response = await deleteChat(chatId);\r\n\t\t\t\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\t\t\t\t// Êõ¥Êñ∞Êú¨Âú∞Êï∞ÊçÆ\r\n\t\t\t\t\t\t\t\t\tthis.historyChats = this.historyChats.filter(chat => chat.id !== chatId);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Âà†Èô§ÊàêÂäü',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: response.message || 'Âà†Èô§Â§±Ë¥•',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.error('Âà†Èô§ÂØπËØùÂ§±Ë¥•:', error);\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: 'Âà†Èô§Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªú',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÊêúÁ¥¢ËæìÂÖ•Â§ÑÁêÜ\r\n\t\t\tonSearchInput() {\r\n\t\t\t\t// ÂÆûÊó∂ÊêúÁ¥¢Ôºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÂ§ÑÁêÜ\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÊâßË°åÊêúÁ¥¢\r\n\t\t\tasync performSearch() {\r\n\t\t\t\tif (this.searchKeyword.trim()) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst response = await searchChats(this.searchKeyword, this.filterType);\r\n\t\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\t\tthis.historyChats = response.data || [];\r\n\t\t\t\t\t\t\tconst count = this.historyChats.length;\r\n\t\t\t\t\t\t\tif (count > 0) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: `ÊâæÂà∞ ${count} ‰∏™ÂØπËØù`,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: 'Êú™ÊâæÂà∞Áõ∏ÂÖ≥ÂØπËØù',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: response.message || 'ÊêúÁ¥¢Â§±Ë¥•',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('ÊêúÁ¥¢Â§±Ë¥•:', error);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'ÊêúÁ¥¢Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªú',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ê∏ÖÈô§ÊêúÁ¥¢\r\n\t\t\tclearSearch() {\r\n\t\t\t\tthis.searchKeyword = '';\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// È´ò‰∫ÆÊêúÁ¥¢ÊñáÊú¨ÔºàÂ∑≤ÁßªÈô§ÔºåÊîπÁî®CSSÊ†∑ÂºèÂÆûÁé∞Ôºâ\r\n\t\t\thighlightSearchText(text) {\r\n\t\t\t\treturn text; // Áõ¥Êé•ËøîÂõûÂéüÊñáÊú¨Ôºå‰ΩøÁî®CSSÊ†∑ÂºèÂÆûÁé∞È´ò‰∫Æ\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÊòæÁ§∫Á≠õÈÄâÈÄâÈ°π\r\n\t\t\tshowFilterOptions() {\r\n\t\t\t\tconst options = this.filterOptions.map(option => option.label);\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: options,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconst selectedOption = this.filterOptions[res.tapIndex];\r\n\t\t\t\t\t\tthis.filterType = selectedOption.value;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: `Â∑≤Á≠õÈÄâÔºö${selectedOption.label}`,\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÊåâÊó∂Èó¥Á≠õÈÄâÂØπËØùÔºàÂ∑≤ÁßªËá≥API‰∏≠Ôºâ\r\n\t\t\tfilterByTime(chats) {\r\n\t\t\t\t// Ê≠§ÊñπÊ≥ïÂ∑≤ÁßªËá≥API‰∏≠Ôºå‰øùÁïôÁ©∫ÊñπÊ≥ï‰ª•ÈÅøÂÖçÈîôËØØ\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ê£ÄÊü•ÂØπËØùÊòØÂê¶È´ò‰∫Æ\r\n\t\t\tisChatHighlighted(chat) {\r\n\t\t\t\tif (!this.searchKeyword.trim()) return false;\r\n\t\t\t\t\r\n\t\t\t\tconst keyword = this.searchKeyword.toLowerCase();\r\n\t\t\t\t// Ê£ÄÊü•Ê†áÈ¢ò\r\n\t\t\t\tif (chat.title && chat.title.toLowerCase().includes(keyword)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\t// Ê£ÄÊü•Ê∂àÊÅØÂÜÖÂÆπ\r\n\t\t\t\tif (chat.messages) {\r\n\t\t\t\t\treturn chat.messages.some(message => \r\n\t\t\t\t\t\tmessage.content && message.content.toLowerCase().includes(keyword)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.history-container {\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground: #f5f5f5;\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tposition: relative;\r\n\t}ss\r\n\t\r\n\t/* ËÉåÊôØË£ÖÈ•∞ */\r\n\t.history-container::before {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),\r\n\t\t\t\t\tradial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\r\n\t\tpointer-events: none;\r\n\t}\r\n\t\r\n\r\n\t\r\n\t.search-container {\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tpadding: 20rpx 40rpx;\r\n\t\tborder-bottom: 1rpx solid rgba(76, 175, 80, 0.1);\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 20rpx;\r\n\t}\r\n\t\r\n\t.filter-btn {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tbackground: transparent;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.3s ease;\r\n\t}\r\n\t\r\n\t.filter-btn:active {\r\n\t\topacity: 0.7;\r\n\t\ttransform: scale(0.95);\r\n\t}\r\n\t\r\n\t.filter-icon {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tfilter: brightness(0) saturate(0) invert(0.6);\r\n\t}\r\n\t\r\n\t.search-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground: rgba(255, 255, 255, 0.8);\r\n\t\tborder-radius: 25rpx;\r\n\t\tpadding: 20rpx 25rpx;\r\n\t\tborder: 1rpx solid rgba(248, 248, 248, 0.2);\r\n\t\tposition: relative;\r\n\t\tflex: 1;\r\n\t}\r\n\t\r\n\t.search-icon {\r\n\t\twidth: 35rpx;\r\n\t\theight: 35rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t\r\n\t.search-input {\r\n\t\tflex: 1;\r\n\t\tfont-size: 28rpx;\r\n\t\tbackground: transparent;\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\tcolor: #000000;\r\n\t}\r\n\t\r\n\t.search-input::placeholder {\r\n\t\tcolor: #000000;\r\n\t}\r\n\t\r\n\t.clear-btn {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tbackground-color: transparent;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-left: 15rpx;\r\n\t}\r\n\t\r\n\t.clear-icon {\r\n\t\tcolor: white;\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.history-list {\r\n\t\tflex: 1;\r\n\t\tpadding: 20rpx;\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t\r\n\t.history-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 15rpx;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.history-content {\r\n\t\tflex: 1;\r\n\t\tmargin-right: 20rpx;\r\n\t\tmin-width: 0;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.history-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-word;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\t\r\n\t.history-time {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.history-preview {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666;\r\n\t\tline-height: 1.4;\r\n\t\tdisplay: block;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-word;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\t\r\n\t.history-actions {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.delete-btn {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground-color: transparent;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t.delete-icon {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tfilter: brightness(0) saturate(0) invert(0.3);\r\n\t}\r\n\t\r\n\t.empty-history {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\theight: 60vh;\r\n\t\tpadding: 40rpx;\r\n\t}\r\n\t\r\n\t.empty-icon {\r\n\t\tfont-size: 120rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.empty-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 15rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.empty-subtitle {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.history-item.highlighted {\r\n\t\tbackground-color: rgba(255, 215, 0, 0.2);\r\n\t\tborder: 2rpx solid #ffd700;\r\n\t\tbox-shadow: 0 0 10rpx rgba(255, 215, 0, 0.3);\r\n\t}\r\n</style> ","import MiniProgramPage from 'D:/Projects/frontend/pages/chatAI/history.vue'\nwx.createPage(MiniProgramPage)"],"names":["loadHistoryChats","uni","getMessagePreview","setSelectedChat","deleteChat","searchChats"],"mappings":"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"}