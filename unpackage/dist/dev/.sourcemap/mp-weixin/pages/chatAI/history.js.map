{"version":3,"file":"history.js","sources":["pages/chatAI/history.vue","../../HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2hhdEFJL2hpc3RvcnkudnVl"],"sourcesContent":["<template>\n\t<view class=\"history-container\">\n\t\t<!-- È°∂ÈÉ®Ê†áÈ¢òÊ†è -->\n\t\t<view class=\"header\">\n\t\t\t<view class=\"header-left\">\n\t\t\t\t<view class=\"back-btn\" @tap=\"goBack\">\n\t\t\t\t\t<text class=\"back-icon\">‚Üê</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"header-center\">\n\t\t\t\t<text class=\"title\">ÂéÜÂè≤ÂØπËØù</text>\n\t\t\t</view>\n\t\t\t<view class=\"header-right\">\n\t\t\t\t<view class=\"clear-btn\" @tap=\"clearAllHistory\">\n\t\t\t\t\t<text class=\"clear-icon\">üóëÔ∏è</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- ÊêúÁ¥¢Ê†è -->\n\t\t<view class=\"search-container\">\n\t\t\t<view class=\"search-box\">\n\t\t\t\t<view class=\"search-icon\">üîç</view>\n\t\t\t\t<input \n\t\t\t\t\tclass=\"search-input\" \n\t\t\t\t\tv-model=\"searchKeyword\" \n\t\t\t\t\tplaceholder=\"ÊêúÁ¥¢ÂéÜÂè≤ÂØπËØù...\"\n\t\t\t\t\t@input=\"onSearchInput\"\n\t\t\t\t\t@confirm=\"performSearch\"\n\t\t\t\t/>\n\t\t\t\t<view v-if=\"searchKeyword\" class=\"clear-btn\" @tap=\"clearSearch\">\n\t\t\t\t\t<text class=\"clear-icon\">√ó</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- ÂéÜÂè≤ÂØπËØùÂàóË°® -->\n\t\t<scroll-view class=\"history-list\" scroll-y=\"true\" :show-scrollbar=\"false\">\n\t\t\t<view \n\t\t\t\tv-for=\"(chat, index) in filteredHistoryChats\" \n\t\t\t\t:key=\"index\"\n\t\t\t\t:class=\"['history-item', isChatHighlighted(chat) ? 'highlighted' : '']\"\n\t\t\t\t@tap=\"loadChat(chat)\"\n\t\t\t>\n\t\t\t\t<view class=\"history-content\">\n\t\t\t\t\t<text class=\"history-title\">{{ chat.title }}</text>\n\t\t\t\t\t<text class=\"history-time\">{{ chat.lastTime }}</text>\n\t\t\t\t\t<text class=\"history-preview\">{{ getPreviewText(chat.messages) }}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"history-actions\">\n\t\t\t\t\t<view class=\"delete-btn\" @tap.stop=\"deleteChat(chat.id)\">\n\t\t\t\t\t\t<text class=\"delete-icon\">√ó</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- Á©∫Áä∂ÊÄÅ -->\n\t\t\t<view v-if=\"filteredHistoryChats.length === 0\" class=\"empty-history\">\n\t\t\t\t<view class=\"empty-icon\">üìã</view>\n\t\t\t\t<text class=\"empty-title\">{{ searchKeyword ? 'Êú™ÊâæÂà∞Áõ∏ÂÖ≥ÂØπËØù' : 'ÊöÇÊó†ÂéÜÂè≤ÂØπËØù' }}</text>\n\t\t\t\t<text class=\"empty-subtitle\">{{ searchKeyword ? 'Â∞ùËØïÂÖ∂‰ªñÂÖ≥ÈîÆËØç' : 'ÂºÄÂßãÊñ∞ÁöÑÂØπËØùÂêß' }}</text>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\thistoryChats: [], // ÂéÜÂè≤ÂØπËØùÂàóË°®\n\t\t\t\tsearchKeyword: '', // ÊêúÁ¥¢ÂÖ≥ÈîÆËØç\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.loadHistoryChats();\n\t\t},\n\t\tonShow() {\n\t\t\t// È°µÈù¢ÊòæÁ§∫Êó∂ÈáçÊñ∞Âä†ËΩΩÂπ∂ÊéíÂ∫èÂéÜÂè≤ÂØπËØù\n\t\t\tthis.loadHistoryChats();\n\t\t},\n\t\tcomputed: {\n\t\t\t// ËøáÊª§ÂêéÁöÑÂéÜÂè≤ÂØπËØùÂàóË°®\n\t\t\tfilteredHistoryChats() {\n\t\t\t\tif (!this.searchKeyword.trim()) {\n\t\t\t\t\treturn this.historyChats;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst keyword = this.searchKeyword.toLowerCase();\n\t\t\t\treturn this.historyChats.filter(chat => {\n\t\t\t\t\t// ÊêúÁ¥¢Ê†áÈ¢ò\n\t\t\t\t\tif (chat.title && chat.title.toLowerCase().includes(keyword)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// ÊêúÁ¥¢Ê∂àÊÅØÂÜÖÂÆπ\n\t\t\t\t\tif (chat.messages) {\n\t\t\t\t\t\treturn chat.messages.some(message => \n\t\t\t\t\t\t\tmessage.content && message.content.toLowerCase().includes(keyword)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t// ËøîÂõû‰∏ä‰∏ÄÈ°µ\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack();\n\t\t\t},\n\t\t\t\n\t\t\t// Âä†ËΩΩÂéÜÂè≤ÂØπËØùÂàóË°®\n\t\t\tloadHistoryChats() {\n\t\t\t\t// ‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩÂéÜÂè≤ÂØπËØùÊï∞ÊçÆ\n\t\t\t\tconst storedChats = uni.getStorageSync('historyChats');\n\t\t\t\tif (storedChats && storedChats.length > 0) {\n\t\t\t\t\t// ÊåâÊúÄÂêéÊ∂àÊÅØÊó∂Èó¥ÊéíÂ∫èÔºàÊúÄÊñ∞ÁöÑÂú®ÂâçÈù¢Ôºâ\n\t\t\t\t\tthis.historyChats = [...storedChats].sort((a, b) => {\n\t\t\t\t\t\tconst timeA = new Date(a.lastTime);\n\t\t\t\t\t\tconst timeB = new Date(b.lastTime);\n\t\t\t\t\t\treturn timeB - timeA; // ÈôçÂ∫èÊéíÂàóÔºåÊúÄÊñ∞ÁöÑÂú®ÂâçÈù¢\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// Â¶ÇÊûúÊ≤°ÊúâÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÔºå‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ‰Ωú‰∏∫Á§∫‰æã\n\t\t\t\t\tthis.historyChats = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'chat1',\n\t\t\t\t\t\t\ttitle: 'ÂÖ≥‰∫éÁéâÁ±≥ÂÆ≥Ëô´ÁöÑÂí®ËØ¢',\n\t\t\t\t\t\t\tlastTime: '2024-01-15 14:30',\n\t\t\t\t\t\t\tmessages: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'user',\n\t\t\t\t\t\t\t\t\tcontent: 'ÁéâÁ±≥Âú∞ÈáåÂèëÁé∞‰∫ÜËô´Â≠êÔºåËÉΩÂ∏ÆÊàëËØÜÂà´‰∏Ä‰∏ãÂêóÔºü',\n\t\t\t\t\t\t\t\t\ttime: '14:30'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'ai',\n\t\t\t\t\t\t\t\t\tcontent: 'Ê†πÊçÆÊÇ®ÁöÑÊèèËø∞ÔºåËøôÂèØËÉΩÊòØÁéâÁ±≥Ëûü„ÄÇÂª∫ËÆÆÊÇ®‰∏ä‰º†ÂõæÁâáËøõË°åÊõ¥ÂáÜÁ°ÆÁöÑËØÜÂà´„ÄÇ',\n\t\t\t\t\t\t\t\t\ttime: '14:31'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'chat2',\n\t\t\t\t\t\t\ttitle: 'Ê∞¥Á®ªÁóÖËô´ÂÆ≥Èò≤Ê≤ª',\n\t\t\t\t\t\t\tlastTime: '2024-01-14 09:15',\n\t\t\t\t\t\t\tmessages: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'user',\n\t\t\t\t\t\t\t\t\tcontent: 'Ê∞¥Á®ªÂè∂Â≠êÂèëÈªÑÔºåÊòØ‰ªÄ‰πàÂéüÂõ†Ôºü',\n\t\t\t\t\t\t\t\t\ttime: '09:15'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'ai',\n\t\t\t\t\t\t\t\t\tcontent: 'Ê∞¥Á®ªÂè∂Â≠êÂèëÈªÑÂèØËÉΩÊòØÁº∫ËÇ•ÊàñÁóÖËô´ÂÆ≥ÂØºËá¥ÁöÑ„ÄÇÂª∫ËÆÆÊÇ®Ê£ÄÊü•ÊòØÂê¶ÊúâËô´ÂÆ≥ÔºåÂπ∂ÈÄÇÂΩìÊñΩËÇ•„ÄÇ',\n\t\t\t\t\t\t\t\t\ttime: '09:16'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'chat3',\n\t\t\t\t\t\t\ttitle: 'Ëî¨ËèúÂÆ≥Ëô´ËØÜÂà´',\n\t\t\t\t\t\t\tlastTime: '2024-01-13 16:45',\n\t\t\t\t\t\t\tmessages: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'user',\n\t\t\t\t\t\t\t\t\tcontent: 'ÁôΩËèú‰∏äÊúâÂ∞èËô´Â≠êÔºåÊÄé‰πàÂ§ÑÁêÜÔºü',\n\t\t\t\t\t\t\t\t\ttime: '16:45'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'ai',\n\t\t\t\t\t\t\t\t\tcontent: 'ËøôÂèØËÉΩÊòØËèúÈùíËô´„ÄÇÂª∫ËÆÆ‰ΩøÁî®ÁîüÁâ©ÂÜúËçØÊàñ‰∫∫Â∑•ÊçïÊùÄÔºåÈÅøÂÖç‰ΩøÁî®È´òÊØíÂÜúËçØ„ÄÇ',\n\t\t\t\t\t\t\t\t\ttime: '16:46'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'chat4',\n\t\t\t\t\t\t\ttitle: 'ÊûúÊ†ëÁóÖËô´ÂÆ≥Âí®ËØ¢',\n\t\t\t\t\t\t\tlastTime: '2024-01-12 11:20',\n\t\t\t\t\t\t\tmessages: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'user',\n\t\t\t\t\t\t\t\t\tcontent: 'ËãπÊûúÊ†ë‰∏äÊúâËöúËô´ÔºåÁî®‰ªÄ‰πàËçØÊØîËæÉÂ•ΩÔºü',\n\t\t\t\t\t\t\t\t\ttime: '11:20'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'ai',\n\t\t\t\t\t\t\t\t\tcontent: 'ÂØπ‰∫éËãπÊûúÊ†ëËöúËô´ÔºåÂª∫ËÆÆ‰ΩøÁî®Âê°Ëô´ÂïâÊàñÂï∂Ëô´ËÑíÁ≠âËçØÂâÇÔºåÊ≥®ÊÑèËΩÆÊç¢‰ΩøÁî®ÈÅøÂÖçÊäóÊÄß„ÄÇ',\n\t\t\t\t\t\t\t\t\ttime: '11:21'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'chat5',\n\t\t\t\t\t\t\ttitle: 'Â∞èÈ∫¶ÁóÖËô´ÂÆ≥Èò≤Ê≤ª',\n\t\t\t\t\t\t\tlastTime: '2024-01-11 15:30',\n\t\t\t\t\t\t\tmessages: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'user',\n\t\t\t\t\t\t\t\t\tcontent: 'Â∞èÈ∫¶Âè∂Â≠êÊúâÁôΩÁ≤âÁóÖÔºåÊÄé‰πàÈò≤Ê≤ªÔºü',\n\t\t\t\t\t\t\t\t\ttime: '15:30'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'ai',\n\t\t\t\t\t\t\t\t\tcontent: 'Â∞èÈ∫¶ÁôΩÁ≤âÁóÖÂèØ‰ª•‰ΩøÁî®‰∏âÂîëÈÖÆ„ÄÅÊàäÂîëÈÜáÁ≠âËçØÂâÇÈò≤Ê≤ªÔºåÂêåÊó∂Ê≥®ÊÑèÈÄöÈ£éÈÄèÂÖâ„ÄÇ',\n\t\t\t\t\t\t\t\t\ttime: '15:31'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\t\t\t\t\t// ‰øùÂ≠òÊ®°ÊãüÊï∞ÊçÆÂà∞Êú¨Âú∞Â≠òÂÇ®\n\t\t\t\t\tuni.setStorageSync('historyChats', this.historyChats);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Ëé∑ÂèñÈ¢ÑËßàÊñáÊú¨\n\t\t\tgetPreviewText(messages) {\n\t\t\t\tif (messages.length === 0) return '';\n\t\t\t\tconst lastMessage = messages[messages.length - 1];\n\t\t\t\tconst text = lastMessage.content;\n\t\t\t\treturn text.length > 30 ? text.substring(0, 30) + '...' : text;\n\t\t\t},\n\t\t\t\n\t\t\t// Âä†ËΩΩÊåáÂÆöÂØπËØù\n\t\t\tloadChat(chat) {\n\t\t\t\t// Â∞ÜÂØπËØùÊï∞ÊçÆ‰º†ÈÄíÂà∞ËÅäÂ§©È°µÈù¢Ôºå‰ΩÜ‰∏çÊõ¥Êñ∞Êó∂Èó¥\n\t\t\t\tuni.setStorageSync('selectedChat', chat);\n\t\t\t\t\n\t\t\t\t// ÂÖàÊòæÁ§∫Âä†ËΩΩÊèêÁ§∫\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'Ê≠£Âú®Âä†ËΩΩÂØπËØù',\n\t\t\t\t\ticon: 'loading'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// ‰ΩøÁî®Êõ¥ÁÆÄÂçïÁöÑË∑≥ËΩ¨ÊñπÂºè\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t// Â∞ùËØï‰ΩøÁî®switchTabÔºåÂõ†‰∏∫chatAIÊòØtabBarÈ°µÈù¢\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl: '/pages/chatAI/chatAI',\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tconsole.log('switchTabË∑≥ËΩ¨ÊàêÂäü');\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.log('switchTabÂ§±Ë¥•ÔºåÂ∞ùËØïnavigateTo:', err);\n\t\t\t\t\t\t\t// Â¶ÇÊûúswitchTabÂ§±Ë¥•ÔºåÂ∞ùËØïnavigateTo\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: '/pages/chatAI/chatAI',\n\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\tconsole.log('navigateToË∑≥ËΩ¨ÊàêÂäü');\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail: (navigateErr) => {\n\t\t\t\t\t\t\t\t\tconsole.log('navigateTo‰πüÂ§±Ë¥•:', navigateErr);\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: 'Ë∑≥ËΩ¨Â§±Ë¥•ÔºåËØ∑ÊâãÂä®ËøîÂõû',\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 100);\n\t\t\t},\n\t\t\t\n\t\t\t// Âà†Èô§ÂØπËØù\n\t\t\tdeleteChat(chatId) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'Âà†Èô§ÂØπËØù',\n\t\t\t\t\tcontent: 'Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™ÂØπËØùÂêóÔºüÂà†Èô§ÂêéÊó†Ê≥ïÊÅ¢Â§ç„ÄÇ',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.historyChats = this.historyChats.filter(chat => chat.id !== chatId);\n\t\t\t\t\t\t\t// Êõ¥Êñ∞Êú¨Âú∞Â≠òÂÇ®\n\t\t\t\t\t\t\tuni.setStorageSync('historyChats', this.historyChats);\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'Âà†Èô§ÊàêÂäü',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// Ê∏ÖÁ©∫ÊâÄÊúâÂéÜÂè≤\n\t\t\tclearAllHistory() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'Ê∏ÖÁ©∫ÂéÜÂè≤',\n\t\t\t\t\tcontent: 'Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÂéÜÂè≤ÂØπËØùÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.historyChats = [];\n\t\t\t\t\t\t\t// Ê∏ÖÁ©∫Êú¨Âú∞Â≠òÂÇ®\n\t\t\t\t\t\t\tuni.removeStorageSync('historyChats');\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'Â∑≤Ê∏ÖÁ©∫ÊâÄÊúâÂéÜÂè≤',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// ÊêúÁ¥¢ËæìÂÖ•Â§ÑÁêÜ\n\t\t\tonSearchInput() {\n\t\t\t\t// ÂÆûÊó∂ÊêúÁ¥¢Ôºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÂ§ÑÁêÜ\n\t\t\t},\n\t\t\t\n\t\t\t// ÊâßË°åÊêúÁ¥¢\n\t\t\tperformSearch() {\n\t\t\t\tif (this.searchKeyword.trim()) {\n\t\t\t\t\tconst count = this.filteredHistoryChats.length;\n\t\t\t\t\tif (count > 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: `ÊâæÂà∞ ${count} ‰∏™ÂØπËØù`,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'Êú™ÊâæÂà∞Áõ∏ÂÖ≥ÂØπËØù',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Ê∏ÖÈô§ÊêúÁ¥¢\n\t\t\tclearSearch() {\n\t\t\t\tthis.searchKeyword = '';\n\t\t\t},\n\t\t\t\n\t\t\t// È´ò‰∫ÆÊêúÁ¥¢ÊñáÊú¨ÔºàÂ∑≤ÁßªÈô§ÔºåÊîπÁî®CSSÊ†∑ÂºèÂÆûÁé∞Ôºâ\n\t\t\thighlightSearchText(text) {\n\t\t\t\treturn text; // Áõ¥Êé•ËøîÂõûÂéüÊñáÊú¨Ôºå‰ΩøÁî®CSSÊ†∑ÂºèÂÆûÁé∞È´ò‰∫Æ\n\t\t\t},\n\t\t\t\n\t\t\t// Ê£ÄÊü•ÂØπËØùÊòØÂê¶È´ò‰∫Æ\n\t\t\tisChatHighlighted(chat) {\n\t\t\t\tif (!this.searchKeyword.trim()) return false;\n\t\t\t\t\n\t\t\t\tconst keyword = this.searchKeyword.toLowerCase();\n\t\t\t\t// Ê£ÄÊü•Ê†áÈ¢ò\n\t\t\t\tif (chat.title && chat.title.toLowerCase().includes(keyword)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// Ê£ÄÊü•Ê∂àÊÅØÂÜÖÂÆπ\n\t\t\t\tif (chat.messages) {\n\t\t\t\t\treturn chat.messages.some(message => \n\t\t\t\t\t\tmessage.content && message.content.toLowerCase().includes(keyword)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.history-container {\n\t\theight: 100vh;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbackground-color: #f5f5f5;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.header {\n\t\tbackground-color: #4CAF50;\n\t\tpadding: 20rpx 30rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\n\t}\n\t\n\t.header-left, .header-right {\n\t\twidth: 80rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n\t\n\t.header-center {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t}\n\t\n\t.back-btn, .clear-btn {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tbackground: rgba(255,255,255,0.2);\n\t\tborder: none;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\t.back-btn:active, .clear-btn:active {\n\t\tbackground: rgba(255,255,255,0.3);\n\t\ttransform: scale(0.95);\n\t}\n\t\n\t.back-icon {\n\t\tcolor: white;\n\t\tfont-size: 28rpx;\n\t}\n\t\n\t.clear-icon {\n\t\tcolor: white;\n\t\tfont-size: 28rpx;\n\t}\n\t\n\t.title {\n\t\tcolor: white;\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.search-container {\n\t\tbackground-color: white;\n\t\tpadding: 20rpx 30rpx;\n\t\tborder-bottom: 1rpx solid #e0e0e0;\n\t}\n\t\n\t.search-box {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbackground-color: #f5f5f5;\n\t\tborder-radius: 25rpx;\n\t\tpadding: 15rpx 20rpx;\n\t\tposition: relative;\n\t}\n\t\n\t.search-icon {\n\t\tfont-size: 28rpx;\n\t\tmargin-right: 15rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.search-input {\n\t\tflex: 1;\n\t\tfont-size: 28rpx;\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\toutline: none;\n\t}\n\t\n\t.clear-btn {\n\t\twidth: 40rpx;\n\t\theight: 40rpx;\n\t\tbackground-color: #ccc;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-left: 15rpx;\n\t}\n\t\n\t.clear-icon {\n\t\tcolor: white;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.history-list {\n\t\tflex: 1;\n\t\tpadding: 20rpx;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\toverflow-y: auto;\n\t}\n\t\n\t.history-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 30rpx;\n\t\tmargin-bottom: 20rpx;\n\t\tbackground-color: white;\n\t\tborder-radius: 15rpx;\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.history-content {\n\t\tflex: 1;\n\t\tmargin-right: 20rpx;\n\t\tmin-width: 0;\n\t\toverflow: hidden;\n\t}\n\t\n\t.history-title {\n\t\tfont-size: 32rpx;\n\t\tcolor: #333;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 10rpx;\n\t\tdisplay: block;\n\t\tword-wrap: break-word;\n\t\tword-break: break-word;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\t\n\t.history-time {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\tmargin-bottom: 10rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.history-preview {\n\t\tfont-size: 26rpx;\n\t\tcolor: #666;\n\t\tline-height: 1.4;\n\t\tdisplay: block;\n\t\tword-wrap: break-word;\n\t\tword-break: break-word;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\t\n\t.history-actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.delete-btn {\n\t\twidth: 50rpx;\n\t\theight: 50rpx;\n\t\tbackground-color: #ff4444;\n\t\tborder: none;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.delete-icon {\n\t\tcolor: white;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.empty-history {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 60vh;\n\t\tpadding: 40rpx;\n\t}\n\t\n\t.empty-icon {\n\t\tfont-size: 120rpx;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.empty-title {\n\t\tfont-size: 32rpx;\n\t\tcolor: #333;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 15rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.empty-subtitle {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t\tdisplay: block;\n\t}\n\t\n\t.history-item.highlighted {\n\t\tbackground-color: rgba(255, 215, 0, 0.2);\n\t\tborder: 2rpx solid #ffd700;\n\t\tbox-shadow: 0 0 10rpx rgba(255, 215, 0, 0.3);\n\t}\n</style> ","import MiniProgramPage from 'E:/anyused/empty/frontend/pages/chatAI/history.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}