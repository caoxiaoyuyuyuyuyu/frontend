{"version":3,"file":"history.js","sources":["pages/chatAI/history.vue","../../HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2hhdEFJL2hpc3RvcnkudnVl"],"sourcesContent":["<template>\n\t<view class=\"history-container\">\n\t\t<!-- 搜索栏 -->\n\t\t<view class=\"search-container\">\n\t\t\t<view class=\"filter-btn\" @tap=\"showFilterOptions\">\n\t\t\t\t<image src=\"/static/filter.png\" class=\"filter-icon\"></image>\n\t\t\t</view>\n\t\t\t<view class=\"search-box\">\n\t\t\t\t<image src=\"/static/search.png\" class=\"search-icon\"></image>\n\t\t\t\t<input \n\t\t\t\t\tclass=\"search-input\" \n\t\t\t\t\tv-model=\"searchKeyword\" \n\t\t\t\t\tplaceholder=\"搜索历史对话...\"\n\t\t\t\t\t@input=\"onSearchInput\"\n\t\t\t\t\t@confirm=\"performSearch\"\n\t\t\t\t/>\n\t\t\t\t<view v-if=\"searchKeyword\" class=\"clear-btn\" @tap=\"clearSearch\">\n\t\t\t\t\t<text class=\"clear-icon\">×</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 历史对话列表 -->\n\t\t<scroll-view class=\"history-list\" scroll-y=\"true\" :show-scrollbar=\"false\">\n\t\t\t<view \n\t\t\t\tv-for=\"(chat, index) in filteredHistoryChats\" \n\t\t\t\t:key=\"index\"\n\t\t\t\t:class=\"['history-item', isChatHighlighted(chat) ? 'highlighted' : '']\"\n\t\t\t\t@tap=\"loadChat(chat.id)\"\n\t\t\t>\n\t\t\t\t<view class=\"history-content\">\n\t\t\t\t\t<text class=\"history-title\">{{ getChatTitle(chat) }}</text>\n\t\t\t\t\t<text class=\"history-time\">{{ formatTime(chat.lastTime || chat.messages[chat.messages.length-1]?.timestamp) }}</text>\n\t\t\t\t\t<text class=\"history-preview\">{{ getPreviewText(chat.messages) }}</text>\n\t\t\t\t</view>\n\t\t\t\t<!-- <view class=\"history-actions\">\n\t\t\t\t\t<view class=\"delete-btn\" @tap.stop=\"deleteChat(chat.id)\">\n\t\t\t\t\t\t<image src=\"/static/delete.png\" class=\"delete-icon\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</view> -->\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 空状态 -->\n\t\t\t<view v-if=\"filteredHistoryChats.length === 0\" class=\"empty-history\">\n\t\t\t\t<view class=\"empty-icon\">📋</view>\n\t\t\t\t<text class=\"empty-title\">{{ searchKeyword ? '未找到相关对话' : '暂无历史对话' }}</text>\n\t\t\t\t<text class=\"empty-subtitle\">{{ searchKeyword ? '尝试其他关键词' : '开始新的对话吧' }}</text>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n\timport { \n\t\tloadHistoryChats, \n\t\tdeleteChat, \n\t\tsearchChats, \n\t\tsetSelectedChat\n\t} from './api.js';\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\thistoryChats: [], // 历史对话列表\n\t\t\t\tsearchKeyword: '', // 搜索关键词\n\t\t\t\tfilterType: 'all', // 筛选类型：all, today, week, month\n\t\t\t\tfilterOptions: [\n\t\t\t\t\t{ label: '全部', value: 'all' },\n\t\t\t\t\t{ label: '今天', value: 'today' },\n\t\t\t\t\t{ label: '本周', value: 'week' },\n\t\t\t\t\t{ label: '本月', value: 'month' }\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tonShow() {\n\t\t\tthis.loadHistoryChats();\n\t\t},\n\t\tcomputed: {\n\t\t\tfilteredHistoryChats() {\r\n\t\t\t    return this.historyChats.sort((a, b) => {\r\n\t\t\t        return new Date(b.lastTime) - new Date(a.lastTime);\r\n\t\t\t    });\r\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t// 转换后端数据格式\n\t\t\tformatConversations(data) {\n\t\t\t\tif (!data || !data.conversations) return [];\n\t\t\t\t\n\t\t\t\treturn data.conversations\n\t\t\t},\n\t\t\t\n\t\t\t// 加载历史对话列表\n\t\t\tasync loadHistoryChats() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await loadHistoryChats();\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tthis.historyChats = this.formatConversations(response);\n\t\t\t\t\t} \n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载历史对话失败:', error);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '加载失败，请检查网络',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 格式化时间显示\n\t\t\tformatTime(timestamp) {\n\t\t\t\tif (!timestamp) return '';\n\t\t\t\tconst date = new Date(timestamp);\n\t\t\t\treturn `${date.getFullYear()}-${(date.getMonth()+1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\n\t\t\t},\n\t\t\t\n\t\t\t// 获取对话标题\n\t\t\tgetChatTitle(chat) {\n\t\t\t\tif (chat.title) return chat.title;\n\t\t\t\tif (chat.messages && chat.messages.length > 0) {\n\t\t\t\t\tconst firstMessage = chat.messages[0];\n\t\t\t\t\treturn firstMessage.content.substring(0, 20) + (firstMessage.content.length > 20 ? '...' : '');\n\t\t\t\t}\n\t\t\t\treturn '未命名对话';\n\t\t\t},\n\t\t\t\n\t\t\t// 获取预览文本\n\t\t\tgetPreviewText(messages) {\n\t\t\t\tif (!messages || messages.length === 0) return '';\n\t\t\t\tconst lastMessage = messages[messages.length - 1];\n\t\t\t\treturn lastMessage.content.substring(0, 50) + (lastMessage.content.length > 50 ? '...' : '');\n\t\t\t},\n\t\t\t\n\t\t\t// 加载指定对话\n\t\t\tloadChat(chat_id) {\n\t\t\t\tsetSelectedChat(chat_id);\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(chat_id)\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '正在加载对话',\n\t\t\t\t\ticon: 'loading'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl: '/pages/chatAI/chatAI',\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tconsole.log('switchTab跳转成功');\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.log('switchTab失败，尝试navigateTo:', err);\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: '/pages/chatAI/chatAI',\n\t\t\t\t\t\t\t\tfail: (navigateErr) => {\n\t\t\t\t\t\t\t\t\tconsole.log('navigateTo也失败:', navigateErr);\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '跳转失败，请手动返回',\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 100);\n\t\t\t},\n\t\t\t\n\t\t\t// 搜索相关方法保持不变\n\t\t\tonSearchInput() {},\n\t\t\t\n\t\t\tasync performSearch() {\n\t\t\t\tif (this.searchKeyword.trim()) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst response = await searchChats(this.searchKeyword, this.filterType);\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tthis.historyChats = this.formatConversations(response.data) || [];\n\t\t\t\t\t\t\tconst count = this.historyChats.length;\n\t\t\t\t\t\t\tif (count > 0) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: `找到 ${count} 个对话`,\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '未找到相关对话',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: response.message || '搜索失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('搜索失败:', error);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '搜索失败，请检查网络',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tclearSearch() {\n\t\t\t\tthis.searchKeyword = '';\n\t\t\t\tthis.loadHistoryChats();\n\t\t\t},\n\t\t\t\n\t\t\tshowFilterOptions() {\n\t\t\t\tconst options = this.filterOptions.map(option => option.label);\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: options,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconst selectedOption = this.filterOptions[res.tapIndex];\n\t\t\t\t\t\tthis.filterType = selectedOption.value;\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: `已筛选：${selectedOption.label}`,\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\tisChatHighlighted(chat) {\n\t\t\t\tif (!this.searchKeyword.trim()) return false;\n\t\t\t\t\n\t\t\t\tconst keyword = this.searchKeyword.toLowerCase();\n\t\t\t\t// 检查标题\n\t\t\t\tif (this.getChatTitle(chat).toLowerCase().includes(keyword)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// 检查消息内容\n\t\t\t\tif (chat.messages) {\n\t\t\t\t\treturn chat.messages.some(message => \n\t\t\t\t\t\tmessage.content && message.content.toLowerCase().includes(keyword)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n</script>\r\n\r\n<style scoped>\r\n\t.history-container {\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground: #f5f5f5;\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tposition: relative;\r\n\t}ss\r\n\t\r\n\t/* 背景装饰 */\r\n\t.history-container::before {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),\r\n\t\t\t\t\tradial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\r\n\t\tpointer-events: none;\r\n\t}\r\n\t\r\n\r\n\t\r\n\t.search-container {\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tpadding: 20rpx 40rpx;\r\n\t\tborder-bottom: 1rpx solid rgba(76, 175, 80, 0.1);\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 20rpx;\r\n\t}\r\n\t\r\n\t.filter-btn {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tbackground: transparent;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.3s ease;\r\n\t}\r\n\t\r\n\t.filter-btn:active {\r\n\t\topacity: 0.7;\r\n\t\ttransform: scale(0.95);\r\n\t}\r\n\t\r\n\t.filter-icon {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tfilter: brightness(0) saturate(0) invert(0.6);\r\n\t}\r\n\t\r\n\t.search-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground: rgba(255, 255, 255, 0.8);\r\n\t\tborder-radius: 25rpx;\r\n\t\tpadding: 20rpx 25rpx;\r\n\t\tborder: 1rpx solid rgba(248, 248, 248, 0.2);\r\n\t\tposition: relative;\r\n\t\tflex: 1;\r\n\t}\r\n\t\r\n\t.search-icon {\r\n\t\twidth: 35rpx;\r\n\t\theight: 35rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t\r\n\t.search-input {\r\n\t\tflex: 1;\r\n\t\tfont-size: 28rpx;\r\n\t\tbackground: transparent;\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\tcolor: #000000;\r\n\t}\r\n\t\r\n\t.search-input::placeholder {\r\n\t\tcolor: #000000;\r\n\t}\r\n\t\r\n\t.clear-btn {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tbackground-color: transparent;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-left: 15rpx;\r\n\t}\r\n\t\r\n\t.clear-icon {\r\n\t\tcolor: white;\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.history-list {\r\n\t\tflex: 1;\r\n\t\tpadding: 20rpx;\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t\r\n\t.history-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 15rpx;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.history-content {\r\n\t\tflex: 1;\r\n\t\tmargin-right: 20rpx;\r\n\t\tmin-width: 0;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.history-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-word;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\t\r\n\t.history-time {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.history-preview {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666;\r\n\t\tline-height: 1.4;\r\n\t\tdisplay: block;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-word;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\t\r\n\t.history-actions {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.delete-btn {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground-color: transparent;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t.delete-icon {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tfilter: brightness(0) saturate(0) invert(0.3);\r\n\t}\r\n\t\r\n\t.empty-history {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\theight: 60vh;\r\n\t\tpadding: 40rpx;\r\n\t}\r\n\t\r\n\t.empty-icon {\r\n\t\tfont-size: 120rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.empty-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 15rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.empty-subtitle {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.history-item.highlighted {\r\n\t\tbackground-color: rgba(255, 215, 0, 0.2);\r\n\t\tborder: 2rpx solid #ffd700;\r\n\t\tbox-shadow: 0 0 10rpx rgba(255, 215, 0, 0.3);\r\n\t}\r\n</style> ","import MiniProgramPage from 'D:/Projects/frontend/pages/chatAI/history.vue'\nwx.createPage(MiniProgramPage)"],"names":["loadHistoryChats","uni","setSelectedChat","searchChats"],"mappings":"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"}