{"version":3,"file":"profile.js","sources":["pages/profile/profile.vue","../../HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvZmlsZS9wcm9maWxlLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"profile-container\">\r\n\t<!-- 登录弹窗组件 -->\r\n\t<login v-if=\"showLoginPopup\" :show=\"showLoginPopup\" @success=\"onLoginSuccess\" />\r\n    <!-- 用户信息 -->\r\n    <view class=\"profile-header\">\r\n      <view class=\"avatar-upload\">\r\n        <image class=\"avatar\" :src=\"userInfo.avatar\" mode=\"aspectFill\" />\r\n      </view>\r\n      <view class=\"user-info\">\r\n        <view class=\"user-row\">\r\n          <input class=\"nickname-input\" v-model=\"userInfo.nickname\" @blur=\"modifyNickname\" />\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 常用功能 -->\r\n    <view class=\"profile-section\">\r\n      <view class=\"section-title\">常用功能</view>\r\n      <view class=\"feature-list\">\r\n        <view class=\"feature-item\" v-for=\"item in features\" :key=\"item.text\" @click=\"onFeatureClick(item)\">\r\n          <image :src=\"item.icon\" class=\"feature-icon\" mode=\"aspectFit\" />\r\n          <text class=\"feature-text\">{{ item.text }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n\t  showLoginPopup: false,\r\n\t  hasLogin: false,\r\n\t  userInfo: {},\r\n      features: [\r\n        { text: '识别记录', icon: '/static/logo.png', url: '/pages/profile/record' },\r\n        { text: '识别帮助', icon: '/static/logo.png', url: '/pages/profile/help' },\r\n        { text: '联系客服', icon: '/static/logo.png', url: '' },\r\n        { text: '退出登录', icon: '/static/logo.png', url: '' },\r\n      ],\r\n    }\r\n  },\r\n\tonShow() {\r\n\t\tthis.checkLogin();\r\n\t},\r\n  methods: {\r\n\t// 检查登录状态\r\n\tcheckLogin() {\r\n\t\tconst token = uni.getStorageSync('token')\r\n\t\tif (token) {\r\n\t\t\tthis.hasLogin = true\r\n\t\t\tthis.userInfo = uni.getStorageSync('userInfo') || {}\r\n\t\t\tthis.showLoginPopup = false\r\n\t\t} else {\r\n\t\t\tthis.hasLogin = false\r\n\t\t\tthis.showLoginPopup = true\r\n\t\t}\r\n\t},\r\n\t// 登录弹窗回调\r\n\tonLoginSuccess(userInfo) {\r\n\t\tthis.hasLogin = true\r\n\t\tthis.userInfo = userInfo\r\n\t\tthis.showLoginPopup = false\r\n\t},\r\n    onFeatureClick(item) {\r\n\tif (item.url) {\r\n\t  uni.navigateTo({ url: item.url });\r\n\t}\r\n\telse if(item.text === '联系客服') {\r\n\t  uni.showToast({ title: '请联系客服：123-456-7890', icon: 'none' });\r\n\t} \r\n\telse if(item.text === '退出登录') {\r\n\t\tuni.removeStorageSync('userInfo')\r\n\t\tuni.removeStorageSync('token');\r\n\t\tuni.reLaunch({\r\n\t\t\turl:\"/pages/index/index\"\r\n\t\t})\r\n\t}\r\n\telse {\r\n\t  uni.showToast({ title: item.text, icon: 'none' });\r\n\t}\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.profile-container {\r\n  background: #f8f9fb;\r\n  min-height: 100vh;\r\n  padding-bottom: 40rpx;\r\n}\r\n.profile-header {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 40rpx 30rpx 20rpx 30rpx;\r\n  background: #fff;\r\n  border-radius: 0 0 30rpx 30rpx;\r\n  box-shadow: 0 2rpx 8rpx #eee;\r\n}\r\n.avatar-upload {\r\n  position: relative;\r\n  margin-right: 24rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.avatar {\r\n  width: 100rpx;\r\n  height: 100rpx;\r\n  border-radius: 50%;\r\n  background: #f0f0f0;\r\n}\r\n.avatar-edit {\r\n  font-size: 24rpx;\r\n  color: #888;\r\n  margin-top: 8rpx;\r\n}\r\n.user-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.user-row {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.nickname-input {\r\n  font-size: 40rpx;\r\n  font-weight: bold;\r\n  margin-right: 16rpx;\r\n  border: none;\r\n  background: transparent;\r\n  outline: none;\r\n  width: 220rpx;\r\n}\r\n.arrow {\r\n  font-size: 18rpx;\r\n  margin-left: 4rpx;\r\n}\r\n.uid {\r\n  font-size: 26rpx;\r\n  color: #b0b0b0;\r\n  margin: 8rpx 0 0 0;\r\n}\r\n.contribution-row {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 8rpx;\r\n}\r\n.profile-section {\r\n  background: #fff;\r\n  margin: 30rpx 30rpx 0 30rpx;\r\n  border-radius: 20rpx;\r\n  padding: 24rpx 0 24rpx 0;\r\n  box-shadow: 0 2rpx 8rpx #eee;\r\n}\r\n.section-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  margin-left: 32rpx;\r\n  margin-bottom: 18rpx;\r\n}\r\n.feature-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.feature-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 18rpx 32rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n.feature-item:last-child {\r\n  border-bottom: none;\r\n}\r\n.feature-icon {\r\n  width: 36rpx;\r\n  height: 36rpx;\r\n  margin-right: 18rpx;\r\n}\r\n.feature-text {\r\n  font-size: 30rpx;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/Projects/frontend/pages/profile/profile.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA8BA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACR,gBAAgB;AAAA,MAChB,UAAU;AAAA,MACV,UAAU,CAAE;AAAA,MACT,UAAU;AAAA,QACR,EAAE,MAAM,QAAQ,MAAM,oBAAoB,KAAK,wBAAyB;AAAA,QACxE,EAAE,MAAM,QAAQ,MAAM,oBAAoB,KAAK,sBAAuB;AAAA,QACtE,EAAE,MAAM,QAAQ,MAAM,oBAAoB,KAAK,GAAI;AAAA,QACnD,EAAE,MAAM,QAAQ,MAAM,oBAAoB,KAAK,GAAI;AAAA,MACpD;AAAA,IACH;AAAA,EACD;AAAA,EACF,SAAS;AACR,SAAK,WAAU;AAAA,EACf;AAAA,EACA,SAAS;AAAA;AAAA,IAEV,aAAa;AACZ,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,OAAO;AACV,aAAK,WAAW;AAChB,aAAK,WAAWA,cAAAA,MAAI,eAAe,UAAU,KAAK,CAAC;AACnD,aAAK,iBAAiB;AAAA,aAChB;AACN,aAAK,WAAW;AAChB,aAAK,iBAAiB;AAAA,MACvB;AAAA,IACA;AAAA;AAAA,IAED,eAAe,UAAU;AACxB,WAAK,WAAW;AAChB,WAAK,WAAW;AAChB,WAAK,iBAAiB;AAAA,IACtB;AAAA,IACE,eAAe,MAAM;AACxB,UAAI,KAAK,KAAK;AACZA,sBAAG,MAAC,WAAW,EAAE,KAAK,KAAK,IAAK,CAAA;AAAA,MAClC,WACQ,KAAK,SAAS,QAAQ;AAC5BA,sBAAG,MAAC,UAAU,EAAE,OAAO,sBAAsB,MAAM,OAAO,CAAC;AAAA,MAC7D,WACQ,KAAK,SAAS,QAAQ;AAC7BA,sBAAG,MAAC,kBAAkB,UAAU;AAChCA,4BAAI,kBAAkB,OAAO;AAC7BA,sBAAAA,MAAI,SAAS;AAAA,UACZ,KAAI;AAAA,SACJ;AAAA,MACF,OACK;AACHA,4BAAI,UAAU,EAAE,OAAO,KAAK,MAAM,MAAM,OAAK,CAAG;AAAA,MAClD;AAAA,IACI;AAAA,EACH;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpFA,GAAG,WAAW,eAAe;"}