{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n    <view class=\"container\">\r\n        <!-- 登录弹窗组件 -->\r\n        <login v-if=\"showLoginPopup\" :show=\"showLoginPopup\" @success=\"onLoginSuccess\" />\r\n        <!-- 顶部标题区域 -->\r\n        <view class=\"header\">\r\n            <view class=\"title-container\">\r\n                <text class=\"main-title\">智慧农业</text>\r\n                <text class=\"sub-title\">AI智能害虫识别系统</text>\r\n            </view>\r\n            <view class=\"decoration\">\r\n                <view class=\"leaf leaf-1\"></view>\r\n                <view class=\"leaf leaf-2\"></view>\r\n                <view class=\"leaf leaf-3\"></view>\r\n            </view>\r\n        </view>\r\n        \r\n        <!-- 中间按钮区域 -->\r\n        <view class=\"button-container\">\r\n            <view class=\"button-group\">\r\n                <!-- 相机拍照按钮 -->\r\n                <view class=\"action-button camera-button\" @click=\"takePhoto\">\r\n                    <view class=\"button-icon\">\r\n                        <image src=\"/static/camera.png\" class=\"icon-image\"></image>\r\n                    </view>\r\n                    <view class=\"button-content\">\r\n                        <text class=\"button-text\">拍照识别</text>\r\n                        <text class=\"button-desc\">实时拍摄害虫照片进行识别</text>\r\n                    </view>\r\n                    <view class=\"button-arrow\">›</view>\r\n                </view>\r\n                \r\n                <!-- 照片选择按钮 -->\r\n                <view class=\"action-button gallery-button\" @click=\"chooseImage\">\r\n                    <view class=\"button-icon\">\r\n                        <image src=\"/static/picture.png\" class=\"icon-image\"></image>\r\n                    </view>\r\n                    <view class=\"button-content\">\r\n                        <text class=\"button-text\">相册选择</text>\r\n                        <text class=\"button-desc\">从相册选择照片进行识别</text>\r\n                    </view>\r\n                    <view class=\"button-arrow\">›</view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        \r\n        <!-- 底部说明区域 -->\r\n        <view class=\"footer\">\r\n            <view class=\"footer-content\">\r\n                <text class=\"footer-text\">支持识别常见农作物害虫</text>\r\n                <text class=\"footer-sub-text\">让AI为您的农业生产保驾护航</text>\r\n            </view>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    import login from '../../components/login/login.vue'\r\n    export default {\r\n        components: { login },\r\n        data() {\r\n            return {\r\n                title: '智慧农业',\r\n                showLoginPopup: false,\r\n                hasLogin: false,\r\n                userInfo: {}\r\n            }\r\n        },\r\n        onLoad() {\r\n            this.checkLogin();\r\n        },\r\n        methods: {\r\n            // 检查登录状态\r\n            checkLogin() {\r\n                const token = uni.getStorageSync('token')\r\n                if (token) {\r\n                    this.hasLogin = true\r\n                    this.userInfo = uni.getStorageSync('userInfo') || {}\r\n                    this.showLoginPopup = false\r\n                } else {\r\n                    this.hasLogin = false\r\n                    this.showLoginPopup = true\r\n                }\r\n            },\r\n            // 登录弹窗回调\r\n            onLoginSuccess(userInfo) {\r\n                this.hasLogin = true\r\n                this.userInfo = userInfo\r\n                this.showLoginPopup = false\r\n            },\r\n            // 拍照功能\r\n            takePhoto() {\r\n                uni.chooseImage({\r\n                    count: 1,\r\n                    sourceType: ['camera'],\r\n                    success: (res) => {\r\n                        console.log('拍照成功:', res.tempFilePaths);\r\n                        // 这里可以跳转到识别页面\r\n                        this.uploadAndIdentify(res.tempFilePaths[0]);\r\n                    },\r\n                    fail: (err) => {\r\n                        console.error('拍照失败:', err);\r\n                        uni.showToast({\r\n                            title: '拍照失败',\r\n                            icon: 'none'\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            \r\n            // 选择照片功能\r\n            chooseImage() {\r\n                uni.chooseImage({\r\n                    count: 1,\r\n                    sourceType: ['album'],\r\n                    success: (res) => {\r\n                        console.log('选择照片成功:', res.tempFilePaths);\r\n                        // 这里可以跳转到识别页面\r\n                        this.uploadAndIdentify(res.tempFilePaths[0]);\r\n                    },\r\n                    fail: (err) => {\r\n                        console.error('选择照片失败:', err);\r\n                        uni.showToast({\r\n                            title: '选择照片失败',\r\n                            icon: 'none'\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            \r\n            // 上传并识别\r\n            uploadAndIdentify(imagePath) {\r\n                // 这里可以添加图片上传和识别的逻辑\r\n                uni.showLoading({\r\n                    title: '正在识别...'\r\n                });\r\n                \r\n                // 模拟识别过程\r\n                setTimeout(() => {\r\n                    uni.hideLoading();\r\n                    uni.showToast({\r\n                        title: '识别功能开发中',\r\n                        icon: 'none'\r\n                    });\r\n                }, 2000);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .container {\r\n        min-height: 100vh;\r\n        background: linear-gradient(180deg, #E8F5E8 0%, #D4EDD4 50%, #C8E6C8 100%);\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding: 40rpx;\r\n        box-sizing: border-box;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n    \r\n    /* 背景装饰 */\r\n    .container::before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: radial-gradient(circle at 20% 80%, rgba(76, 175, 80, 0.1) 0%, transparent 50%),\r\n                    radial-gradient(circle at 80% 20%, rgba(129, 199, 132, 0.1) 0%, transparent 50%);\r\n        pointer-events: none;\r\n    }\r\n    \r\n    .header {\r\n        flex: 0 0 auto;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        margin-bottom: 60rpx;\r\n        position: relative;\r\n        z-index: 1;\r\n    }\r\n    \r\n    .title-container {\r\n        text-align: center;\r\n        margin-bottom: 30rpx;\r\n    }\r\n    \r\n    .main-title {\r\n        font-size: 56rpx;\r\n        font-weight: bold;\r\n        color: #2E7D32;\r\n        margin-bottom: 16rpx;\r\n        display: block;\r\n        text-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.1);\r\n    }\r\n    \r\n    .sub-title {\r\n        font-size: 28rpx;\r\n        color: #4CAF50;\r\n        display: block;\r\n        font-weight: 500;\r\n    }\r\n    \r\n    /* 装饰叶子 */\r\n    .decoration {\r\n        position: relative;\r\n        width: 200rpx;\r\n        height: 100rpx;\r\n    }\r\n    \r\n    .leaf {\r\n        position: absolute;\r\n        width: 40rpx;\r\n        height: 60rpx;\r\n        background: #4CAF50;\r\n        border-radius: 50% 0 50% 0;\r\n        opacity: 0.3;\r\n        animation: leafFloat 3s ease-in-out infinite;\r\n    }\r\n    \r\n    .leaf-1 {\r\n        top: 0;\r\n        left: 30rpx;\r\n        animation-delay: 0s;\r\n    }\r\n    \r\n    .leaf-2 {\r\n        top: 20rpx;\r\n        left: 80rpx;\r\n        animation-delay: 1s;\r\n        transform: scale(0.8);\r\n    }\r\n    \r\n    .leaf-3 {\r\n        top: 40rpx;\r\n        right: 30rpx;\r\n        animation-delay: 2s;\r\n        transform: scale(0.6);\r\n    }\r\n    \r\n    @keyframes leafFloat {\r\n        0%, 100% { transform: translateY(0) rotate(0deg); }\r\n        50% { transform: translateY(-10rpx) rotate(5deg); }\r\n    }\r\n    \r\n    .button-container {\r\n        flex: 1;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        position: relative;\r\n        z-index: 1;\r\n    }\r\n    \r\n    .button-group {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 24rpx;\r\n        width: 100%;\r\n    }\r\n    \r\n    .action-button {\r\n        background: rgba(255, 255, 255, 0.95);\r\n        border-radius: 28rpx;\r\n        padding: 48rpx 40rpx;\r\n        display: flex;\r\n        align-items: center;\r\n        box-shadow: 0 6rpx 24rpx rgba(0, 0, 0, 0.1);\r\n        transition: all 0.3s ease;\r\n        border: 2rpx solid rgba(0, 0, 0, 0.05);\r\n        position: relative;\r\n        overflow: hidden;\r\n        margin-bottom: 32rpx;\r\n    }\r\n    \r\n    .action-button::before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: linear-gradient(135deg, rgba(0, 0, 0, 0.02) 0%, transparent 100%);\r\n        opacity: 0;\r\n        transition: opacity 0.3s ease;\r\n    }\r\n    \r\n    .action-button:active {\r\n        transform: translateY(2rpx);\r\n        box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.15);\r\n    }\r\n    \r\n    .action-button:active::before {\r\n        opacity: 1;\r\n    }\r\n    \r\n    .camera-button {\r\n        border-left: 6rpx solid #666;\r\n    }\r\n    \r\n    .gallery-button {\r\n        border-left: 6rpx solid #888;\r\n    }\r\n    \r\n    .button-icon {\r\n        width: 120rpx;\r\n        height: 120rpx;\r\n        background: #f5f5f5;\r\n        border-radius: 24rpx;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        margin-right: 40rpx;\r\n        flex-shrink: 0;\r\n        border: 2rpx solid #e0e0e0;\r\n    }\r\n    \r\n    .icon-image {\r\n        width: 60rpx;\r\n        height: 60rpx;\r\n    }\r\n    \r\n    .button-content {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    \r\n    .button-text {\r\n        font-size: 40rpx;\r\n        font-weight: 600;\r\n        color: #333;\r\n        margin-bottom: 12rpx;\r\n    }\r\n    \r\n    .button-desc {\r\n        font-size: 28rpx;\r\n        color: #666;\r\n        line-height: 1.4;\r\n    }\r\n    \r\n    .button-arrow {\r\n        font-size: 44rpx;\r\n        color: #999;\r\n        font-weight: bold;\r\n        margin-left: 20rpx;\r\n        opacity: 0.7;\r\n    }\r\n    \r\n    .footer {\r\n        flex: 0 0 auto;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        margin-top: 40rpx;\r\n        position: relative;\r\n        z-index: 1;\r\n    }\r\n    \r\n    .footer-content {\r\n        text-align: center;\r\n        background: rgba(255, 255, 255, 0.8);\r\n        padding: 24rpx 32rpx;\r\n        border-radius: 16rpx;\r\n        border: 1rpx solid rgba(76, 175, 80, 0.2);\r\n    }\r\n    \r\n    .footer-text {\r\n        font-size: 26rpx;\r\n        color: #2E7D32;\r\n        display: block;\r\n        margin-bottom: 8rpx;\r\n        font-weight: 500;\r\n    }\r\n    \r\n    .footer-sub-text {\r\n        font-size: 22rpx;\r\n        color: #4CAF50;\r\n        display: block;\r\n        opacity: 0.8;\r\n    }\r\n</style>","import MiniProgramPage from 'D:/Projects/frontend/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAyDI,cAAc,MAAW;AACzB,MAAK,YAAU;AAAA,EACX,YAAY,EAAE,MAAO;AAAA,EACrB,OAAO;AACH,WAAO;AAAA,MACH,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,UAAU;AAAA,MACV,UAAU,CAAC;AAAA,IACf;AAAA,EACH;AAAA,EACD,SAAS;AACL,SAAK,WAAU;AAAA,EAClB;AAAA,EACD,SAAS;AAAA;AAAA,IAEL,aAAa;AACT,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,OAAO;AACP,aAAK,WAAW;AAChB,aAAK,WAAWA,cAAAA,MAAI,eAAe,UAAU,KAAK,CAAC;AACnD,aAAK,iBAAiB;AAAA,aACnB;AACH,aAAK,WAAW;AAChB,aAAK,iBAAiB;AAAA,MAC1B;AAAA,IACH;AAAA;AAAA,IAED,eAAe,UAAU;AACrB,WAAK,WAAW;AAChB,WAAK,WAAW;AAChB,WAAK,iBAAiB;AAAA,IACzB;AAAA;AAAA,IAED,YAAY;AACRA,oBAAAA,MAAI,YAAY;AAAA,QACZ,OAAO;AAAA,QACP,YAAY,CAAC,QAAQ;AAAA,QACrB,SAAS,CAAC,QAAQ;AACdA,wBAAA,MAAA,MAAA,OAAA,+BAAY,SAAS,IAAI,aAAa;AAEtC,eAAK,kBAAkB,IAAI,cAAc,CAAC,CAAC;AAAA,QAC9C;AAAA,QACD,MAAM,CAAC,QAAQ;AACXA,wBAAA,MAAA,MAAA,SAAA,gCAAc,SAAS,GAAG;AAC1BA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO;AAAA,YACP,MAAM;AAAA,UACV,CAAC;AAAA,QACL;AAAA,MACJ,CAAC;AAAA,IACJ;AAAA;AAAA,IAGD,cAAc;AACVA,oBAAAA,MAAI,YAAY;AAAA,QACZ,OAAO;AAAA,QACP,YAAY,CAAC,OAAO;AAAA,QACpB,SAAS,CAAC,QAAQ;AACdA,wBAAY,MAAA,MAAA,OAAA,gCAAA,WAAW,IAAI,aAAa;AAExC,eAAK,kBAAkB,IAAI,cAAc,CAAC,CAAC;AAAA,QAC9C;AAAA,QACD,MAAM,CAAC,QAAQ;AACXA,wBAAc,MAAA,MAAA,SAAA,gCAAA,WAAW,GAAG;AAC5BA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO;AAAA,YACP,MAAM;AAAA,UACV,CAAC;AAAA,QACL;AAAA,MACJ,CAAC;AAAA,IACJ;AAAA;AAAA,IAGD,kBAAkB,WAAW;AAEzBA,oBAAAA,MAAI,YAAY;AAAA,QACZ,OAAO;AAAA,MACX,CAAC;AAGD,iBAAW,MAAM;AACbA,sBAAG,MAAC,YAAW;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAC;AAAA,MACJ,GAAE,GAAI;AAAA,IACX;AAAA,EACJ;AACJ;;;;;;;;;;;;;;;;;;;;;AClJJ,GAAG,WAAW,eAAe;"}